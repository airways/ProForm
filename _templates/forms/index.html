{embed="global/_header"}
        TEST!
<style type="text/css">
    .error {
        color: red;
    }
    .fieldRow {
        clear:both;
        border: 1px dotted red;
    }
    .fieldRow li {
        display: inline;
        height: 30px;
        border: 1px dotted blue;
    }
    .clear {
        clear: both;
    }
</style>
<h2>Contact Form</h2>

<h3>Dynamic Fields Loop</h3>
{exp:proform:form form_name="{segment_2}" notify="iraway+test1@nerdery.com" thank_you_url="{site_path}thanks"}

    {if complete}
        Thank you!
    {if:else}
        {!-- render all hidden fields in one place - you can also do these inline if you like --}
        {fields}
            {if field_control == 'hidden'}
                <input type="{field_control}" name="{field_name}" value="{field_value}" />
            {/if}
        {/fields}

        {!-- render normal fields in aligned rows --}
        {fieldrows}
            {!-- check if the row contains only hidden fields. if so, skip it because we already
                 rendered it's fields. --}
            {if fieldrow:count > fieldrow:hidden_count}
                <ul class="fieldRow">
                    <li>Count: {fieldrow:count}, {fieldrow:hidden_count} hidden</li>

                {fields}
                    {if field_control != 'hidden'}{!-- skip hidden fields --}
                        <li{if field_error} class="error"{/if}>

                            {field_label} {field_no}

                            {if field_control == 'textarea'}
                                <textarea name="{field_name}" cols="40" rows="10">{field_value}</textarea>
                            {if:elseif field_control == 'checkbox'}
                                <input type="{field_control}" name="{field_name}" value="y" {field_checked} />
                            {if:elseif field_control == 'select'}

                                <select name="{field_name}">
                                    {field_setting_list}
                                        <option value="{row}">{row}</option>
                                    {/field_setting_list}
                                </select>
                            {if:else}
                                <input type="{field_control}" name="{field_name}" value="{field_value}" />
                            {/if}
                            {field_error}
                        </li>
                    {/if}
                {/fields}
                </ul>
            {/if}
        {/fieldrows}


        Enter this word: {captcha}<p/>
        <input type="text" name="captcha" />{if error:captcha}<span class="error">{error:captcha}</span>{/if}

        <p/>
        <input type="submit" />
    {/if}
{/exp:proform:form}

<h3>Dynamic Fields Loop Entries</h3>
<table border="1">
{exp:proform:entries form_name="{segment_2}"}
    {if row:number == 1}
    <tr>
        <th>Row Number</th>
        <th>Form Entry ID</th>
        <th>User Agent</th>
        <th>IP Address</th>
        {fields}
        <th>{field_label}</th>
        {/fields}
    </tr>
    {/if}
    {if entries:no_results}
    <tr>
       <td colspan="{exp:will_hunting:solve exp='{fields:count} + 2'}" class="error">No entries!</td>
    </tr>
    {if:else}
    <tr>
        <td>{row:number}</td>
        <td>{value:form_entry_id}</td>
        <td>{value:user_agent}</td>
        <td>{value:ip_address}</td>
        {fields}
            {if field_type == 'file'}
                {if field_value}
                    <td><img src="{field_value}" /></td>
                {if:else}
                    <td></td>
                {/if}
            {if:else}
                <td>{field_value}</td>
            {/if}
        {/fields}
    </tr>
    {/if}
    {!-- we want the footer row to show up even if there were no entries, so we
         add entries:count == 0 to the conditional here --}
    {if row:number == entries:count || entries:count == 0}
    <tr>
        <th>Row Number</th>
        <th>Form Entry ID</th>
        <th>User Agent</th>
        <th>IP Address</th>
        {fieldrows}
        {fields}
        <th>{field_label}</th>
        {/fields}
        {/fieldrows}
    </tr>
    {/if}
{/exp:proform:entries}
</table>
{embed="global/_footer"}