<html>
<head>
    <title>ProForm - Form Management</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js" type="text/javascript"></script>
    <style type="text/css" media="screen,print">@import url(docs_assets/main.css);</style>
    <style type="text/css" media="screen,print">@import url(docs_assets/docs.css);</style>
</head>
<body>
<div id="header">
    <p><a href="http://metasushi.com/ee/">&larr; MetaSushi ExpressionEngine Add-ons</a></p>
    <!-- <div id="title">ProForm Module</div> -->
</div>
<div id="content">

    <h1>Form Management (BETA)</h1>
        
    <p>The main page of <dfn>ProForm</dfn> provides a list of all of the forms that have been created within the module.</p>
    
    <p class="tip"><b>Beta</b> This module is currently in a public beta phase, but has been used on multiple sites in an internal beta for several months. Any issues should be filed with the developer at the Devot:ee site for <kbd>ProForm</kbd> and will be fixed promptly.</p>
    
    <h3>Contents</h3>
    
    <ul>
        <li><a href="#create_form">Creating a New Form</a></li>
        <li><a href="#form_settings">Form Settings</a></li>
        <li><a href="#form_layout">Form Layout</a></li>
        <li><a href="#entries">Viewing and Exporting Entries</a></li>
        <li><a href="#delete_form">Deleting a Form</a></li>
    </ul>

    <h2><a name="create_form">Creating a New Form</a></h2>

    <p>To create a new form, use the <kbd>Create a Form</kbd> drop down menu to select one of the available
    types.</p>

    <ul>
        <li>Basic Form</li>
        <li>Share Form</li>
    </ul>
    
    <h3>Basic Form</h3>
    <p>A Basic Form is used to create typical contact forms and other forms that save their data into the database.
    This data can be encrypted, and notification of new entries can be sent to various locations.</p>
    
    <h3>Share Form</h3>
    <p>A Share Form is meant to be used as a replacement to the Tell a Friend form. It does not save data
    to the database, but send the same types of notifications that can be sent for Basic Forms.</p>
    
    <p>When you create a form you will be asked to specify the settings as listed in the 
    <a href="#form_settings">Form Settings</a> section.
    
    <h2><a name="form_settings">Form Settings</a></h2>
    
    <p>After creating a new form, the same settings that are set when it is initially created can be updated at any
    time by clicking the <kbd>Edit Settings</kbd> link on the form listing.</p>
    
    <p>The following settings are available for the various types of forms.</p>
    
    <h4>Basic Settings</h4>
    <table>
        <tr>
            <th width="170">Field</th>
            <th width="90">Form Types</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><b>Full Form Name</b></td>
            <td>Basic, Share</td>
            <td>Human friendly form name, used in UI and likely displayed on your website.</td>
        </tr>
        <tr>
            <td><b>Form Short Name</b></td>
            <td>Basic, Share</td>
            <td>Similar in concept to a "channel" name - used in templates to indicate what form's
                information is to be retrieved in order to render the form, or to list it's entries.</td>
        </tr>
        <tr>
            <td><b>Encrypt Data</b></td>
            <td>Basic Only</td>
            <td>Turns database encryption on or off for the current form. Note that this option
                cannot be changed after data has been entered into the form's entries.
                <br/><br/>
                Encryption comes in two flavors - a simple and insecure XOR technique and a more secure method based on the Mcrypt
                extension, which must be installed. The default is the insecure XOR unless you have Mcrypt installed and have set
                a secure encryption key in your <dfn>config.php</dfn> file. Please refer to the CodeIgniter reference's
                warnings about their encryption class for more details and instructions for how to set your encryption key:
                <br/><br/>
                <a href="http://codeigniter.com/user_guide/libraries/encryption.html">http://codeigniter.com/user_guide/libraries/encryption.html</a><br/><br/>
                (The config file is usually located at <dfn>system/expressionengine/config/config.php</dfn> instead of the location noted
                on that page.)
                </td>
            </tr>
    </table>
    
    <h4>Notification List Settings</h4>
    <p>The Notification List is a preconfigured list of email addresses to send notifications to. It has the following settings for
    each form.</p>
    
    <table>
        <tr>
            <th width="170">Field</th>
            <th width="90">Form Types</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><b>Enable Notification List</b></td>
            <td>Basic, Share</td>
            <td>Turns the Notification List on or off. Notifications to the listed addresses will not be sent if this
            option is not checked.</td>
        </tr>
        <tr>
            <td><b>Notification Template</b></td>
            <td>Basic, Share</td>
            <td>ExpressionEngine Template used to render the emails sent to the Notification List. The available templates are
            listed from the Notification Template Group selected in <a href="cp_settings.html">Module Settings</a>. For more
            information about what tags are available in a notification template, see 
            <a href="notification_templates.html">Notification Templates</a>.</td>
        </tr>
        <tr>
            <td><b>Notification List</b></td>
            <td>Basic, Share</td>
            <td>List of email addresses to send this notification to. This constitutes the actual Notification List itself.
            List each email address to send the notification to on it's own line.</td>
        </tr>
        <tr>
            <td><b>Subject</b></td>
            <td>Basic, Share</td>
            <td>The subject line of the notification email. This line is rendered as an ExpressionEngine template, and therefore
            can use conditionals and plugins in addition to the variables available in 
            <a href="notification_templates.html">Notification Templates</a>.</td>
        </tr>
        
    </table>

    <h4>Notification Field Settings - A and B</h4>
    <p>There are two groups of Notification Field Settings available for each form. Using a Notification Field allows the destination
    for your notifications to be entered by the visitor when they fill out the form.</p>
    
    <p class="important"><strong>Warning</strong> Keep in mind that this feature provides what is essentially an open relay,
    which can allow anyone to send a message to any email address. It's very important that all forms that send notifications to
    addresses specified through a Notification Field have a CAPTCHA or other mechanisms in place to prevent the sending of spam.</p>
    
    <table>
        <tr>
            <th width="170">Field</th>
            <th width="90">Form Types</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><b>Enable Group</b></td>
            <td>Basic, Share</td>
            <td>Turns the Notification Field on or off. Notifications to the addresses provided in the Email Field will not be
            sent if this option is not checked.</td>
        </tr>
        <tr>
            <td><b>Template</b></td>
            <td>Basic, Share</td>
            <td>ExpressionEngine Template used to render the emails sent to the specified email address. The available templates are
            listed from the Notification Template Group selected in <a href="cp_settings.html">Module Settings</a>. For more
            information about what tags are available in a notification template, see 
            <a href="notification_templates.html">Notification Templates</a>.</td>
        </tr>
        <tr>
            <td><b>Subject</b></td>
            <td>Basic, Share</td>
            <td>The subject line of the notification email. This line is rendered as an ExpressionEngine template, and therefore
            can use conditionals and plugins in addition to the variables available in 
            <a href="notification_templates.html">Notification Templates</a>.</td>
        </tr>
        <tr>
            <td><b>Email Field</b></td>
            <td>Basic, Share</td>
            <td>The email address to send notifications to will be taken from this field in the form.</td>
        </tr>
    </table>
    
    <h2><a name="form_layout">Form Layout</a></h2>
    
    <p>Forms have a user-defined layout that is created through the Form Layout tab of the form's settings.</p>
    
    <p>You can get to this tab either by clicking it's name and then the Form Layout tab, or by clicking Form Layout directly
    from the from listing.</p>
    
    <h3>Layout</h3>
    
    <p>The layout for a form is manipulated as a series of rows of fields. Each field can be moved between rows by clicking and
    dragging the field.</p>
    
    <h3>Adding a Field</h3>
    
    <p>To add a field to the form, select the field you wish to add from the drop down on the right, then click Add. If you would
    like to create a new field and immediately add it to the form, select New Field from the drop down instead of an existing
    field name.</p>
    
    <p>Note that only fields are are not already assigned to the form will be listed in this drop down.</p>
    
    <h3>Field Overrides</h3>
    
    <p>Certain values can be overridden for each field on the form. To set a field's overridden values, click on the field to select
    it. The Edit Field box on the right will then display the field's current override values.</p>
    
    <h4>Field Override Values</h4>
    
    <table>
        <tr>
            <th width="170">Name</th>
            <th>Template Var</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>Field Label</td>
            <td>{field_label}</td>
            <td>Overrides the value returned for {field_label} for this field. Normally this value is taken from the field's own
                settings. This allows the same field to have multiple labels depending on which form it is used on.</td>
        </tr>
        <tr>
            <td>Field Default Value</td>
            <td>{field_preset_value}</td>
            <td>Allows entering the default value for this field.</td>
        </tr>
        <tr>
            <td>Force Default Value</td>
            <td>{field_preset_forced}</td>
            <td>Removes the field from the list of fields returned by the {fields} variable pair, and forces the value to
                always be set to the Field Default Value. This prevents the visitor from changing the value of this field,
                even if they modify the POST form to change the data submitted.</td>
        </tr>
        <tr>
            <td>Field Id</td>
            <td>{field_html_id}</td>
            <td>A value to be used as the field's HTML id in the template.</td>
        </tr>
        <tr>
            <td>Field Class</td>
            <td>{field_html_class}</td>
            <td>A value to be used as the field's HTML class in the template.</td>
        </tr>
        <tr>
            <td>Extra 1, Extra 2</td>
            <td>{field_extra1}, {field_extra2}</td>
            <td>Extra meta values to be used by the template. These values can be used for any purpose desired, such as
                additional HTML classes or a custom field description for the form.</td>
        </tr>
    </table>
    
    <h2><a name="entries">Viewing and Exporting Entries</a></h2>
    
    <p>Entries for a form can be viewed by clicking the View Entries link of the form listing. The entries list for a form
    provides all of it's entries in a paginated list.</p>
    
    <p>On the entries list for a form, you may export the entries from the form through the Export Entries button. The file will
    be downloaded in a CSV formatted text file.</p>
    
    <h2><a name="delete_form">Deleting a Form</a></h2>
    
    <p>Deleting a form removes all of it's settings and deletes all of it's data from the database.</p>
    
    <p>You can delete a form and all of it's data through the Delete command on the form listing. You must confirm the deletion
    in the following page.</p>
    
    <p class="important"><strong>Warning</strong> Deleting a form cannot be undone. Old forms can be kept in the database
    indefinitely without any performance penalties.</p>
</div>
</body>
</html>